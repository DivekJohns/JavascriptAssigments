<!DOCTYPE html>
<html>
<head>
<script>

var expDays = 30;
var exp = new Date();
exp.setTime(exp.getTime() + (expDays*24*60*60*1000));
function Who(info){
var VisitorName = GetCookiedate('VisitorName')
if (VisitorName == null) {
VisitorName = prompt("Hey Whats your name?");
SetCookiedate ('VisitorName', VisitorName, exp);
}
return VisitorName;
}
function When(info){
var rightNow = new Date()
var WWHTime = 0;
WWHTime = GetCookiedate('WWhenH')
WWHTime = WWHTime * 1
var lastHereFormatting = new Date(WWHTime);
var intLastVisit = (lastHereFormatting.getYear() * 10000)+(lastHereFormatting.getMonth() * 100) + lastHereFormatting.getDate()
var lastHereInDateFormat = "" + lastHereFormatting;
var dayOfWeek = lastHereInDateFormat.substring(0,3)
var dateMonth = lastHereInDateFormat.substring(4,11)
var timeOfDay = lastHereInDateFormat.substring(11,16)
var year = lastHereInDateFormat.substring(23,25)
var WWHText = dayOfWeek + ", " + dateMonth + " at " + timeOfDay
SetCookiedate ("WWhenH", rightNow.getTime(), exp)
return WWHText
}
function Count(info){
var WWHCount = GetCookiedate('WWHCount')
if (WWHCount == null) {
WWHCount = 0;
}
else{
WWHCount++;
}
SetCookiedate ('WWHCount', WWHCount, exp);
return WWHCount;
}
function set(){
VisitorName = prompt("Hey Whats your name?");
SetCookiedate ('VisitorName', VisitorName, exp);
SetCookiedate ('WWHCount', 0, exp);
SetCookiedate ('WWhenH', 0, exp);
}
function GetCookiedateVal (offset) {
var endstr = document.cookie.indexOf (";", offset);
if (endstr == -1)
endstr = document.cookie.length;
return unescape(document.cookie.substring(offset, endstr));
}
function GetCookiedate (name) {
var arg = name + "=";
var alen = arg.length;
var clen = document.cookie.length;
var i = 0;
while (i < clen) {
var j = i + alen;
if (document.cookie.substring(i, j) == arg)
return GetCookiedateVal (j);
i = document.cookie.indexOf(" ", i) + 1;
if (i == 0) break;
}
return null;
}
function SetCookiedate (name, value) {
var argv = SetCookiedate.arguments;
var argc = SetCookiedate.arguments.length;
var expires = (argc > 2) ? argv[2] : null;
var path = (argc > 3) ? argv[3] : null;
var domain = (argc > 4) ? argv[4] : null;
var secure = (argc > 5) ? argv[5] : false;
document.cookie = name + "=" + escape (value) +
((expires == null) ? "" : ("; expires=" + expires.toGMTString())) +
((path == null) ? "" : ("; path=" + path)) +
((domain == null) ? "" : ("; domain=" + domain)) +
((secure == true) ? "; secure" : "");
}
function DeleteCookiedate (name) {
var exp = new Date();
exp.setTime (exp.getTime() - 1);
var cval = GetCookiedate (name);
document.cookie = name + "=" + cval + "; expires=" + exp.toGMTString();
}
document.write("<h1>Hello " + Who() + ". You've been here " + Count() + " time(s).<br>  Last time was " + When() +".</h1>");
</script>
</head>
<body >
</body>
</html>
